{"ast":null,"code":"import _slicedToArray from \"/Users/shivampanwar/Desktop/GoFood/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/Users/shivampanwar/Desktop/GoFood/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/shivampanwar/Desktop/GoFood/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/shivampanwar/Desktop/GoFood/my-app/src/components/ContextReducer.js\";\nimport React, { createContext, useReducer, useContext } from 'react';\nvar CartStateContext = createContext();\nvar CartDispatchContext = createContext();\nvar reducer = function reducer(state, action) {\n  switch (action.type) {\n    case \"ADD\":\n      return [].concat(_toConsumableArray(state), [{\n        id: action.id,\n        name: action.name,\n        qty: action.qty,\n        size: action.size,\n        price: action.price,\n        img: action.img\n      }]);\n    case \"REMOVE\":\n      var newArr = _toConsumableArray(state);\n      newArr.splice(action.index, 1);\n      return newArr;\n    case \"UPDATE\":\n      var arr = _toConsumableArray(state);\n      arr.find(function (food, index) {\n        if (food.id === action.id) {\n          console.log(food.qty, parseInt(action.qty), action.price + food.price);\n          arr[index] = _objectSpread({}, food, {\n            qty: parseInt(action.qty) + parseInt(food.qty),\n            price: action.price + food.price\n          });\n        }\n        return arr;\n      });\n      return arr;\n    default:\n      console.log(\"Error in reducer\");\n  }\n};\nexport var CartProvider = function CartProvider(_ref) {\n  var children = _ref.children;\n  var _useReducer = useReducer(reducer, []),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    state = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  return /*#__PURE__*/React.createElement(CartDispatchContext.Provider, {\n    value: dispatch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CartStateContext.Provider, {\n    value: state,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, children));\n};\nexport var useCart = function useCart() {\n  return useContext(CartStateContext);\n};\nexport var useDispatchCart = function useDispatchCart() {\n  return useContext(CartDispatchContext);\n};","map":{"version":3,"names":["React","createContext","useReducer","useContext","CartStateContext","CartDispatchContext","reducer","state","action","type","concat","_toConsumableArray","id","name","qty","size","price","img","newArr","splice","index","arr","find","food","console","log","parseInt","_objectSpread","CartProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","dispatch","createElement","Provider","value","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","useCart","useDispatchCart"],"sources":["/Users/shivampanwar/Desktop/GoFood/my-app/src/components/ContextReducer.js"],"sourcesContent":["import React, { createContext, useReducer, useContext } from 'react'\n\n\nconst CartStateContext = createContext();\nconst CartDispatchContext = createContext();\n\nconst reducer = (state, action) => {\n\n  switch (action.type) {\n    case \"ADD\":\n      return [...state, { id: action.id, name: action.name, qty: action.qty, size: action.size, price: action.price, img: action.img }]\n\n    case \"REMOVE\":\n      let newArr = [...state]\n      newArr.splice(action.index, 1)\n      return newArr;\n\n\n    case \"UPDATE\":\n      let arr = [...state]\n      arr.find((food, index) => {\n        if (food.id === action.id) {\n          console.log(food.qty, parseInt(action.qty), action.price + food.price)\n          arr[index] = {...food, qty : parseInt(action.qty) + parseInt(food.qty) , price: action.price + food.price }\n        }\n        return arr\n      })\n      return arr \n\n\n    default: console.log(\"Error in reducer\");\n  }\n\n\n\n}\n\n\nexport const CartProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, [])\n  return (\n    <CartDispatchContext.Provider value={dispatch}>\n      <CartStateContext.Provider value={state}>\n        {children}\n      </CartStateContext.Provider>\n    </CartDispatchContext.Provider>\n\n  )\n}\nexport const useCart = () => useContext(CartStateContext);\nexport const useDispatchCart = () => useContext(CartDispatchContext);"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,UAAU,QAAQ,OAAO;AAGpE,IAAMC,gBAAgB,GAAGH,aAAa,EAAE;AACxC,IAAMI,mBAAmB,GAAGJ,aAAa,EAAE;AAE3C,IAAMK,OAAO,GAAG,SAAVA,OAAOA,CAAIC,KAAK,EAAEC,MAAM,EAAK;EAEjC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,KAAK;MACR,UAAAC,MAAA,CAAAC,kBAAA,CAAWJ,KAAK,IAAE;QAAEK,EAAE,EAAEJ,MAAM,CAACI,EAAE;QAAEC,IAAI,EAAEL,MAAM,CAACK,IAAI;QAAEC,GAAG,EAAEN,MAAM,CAACM,GAAG;QAAEC,IAAI,EAAEP,MAAM,CAACO,IAAI;QAAEC,KAAK,EAAER,MAAM,CAACQ,KAAK;QAAEC,GAAG,EAAET,MAAM,CAACS;MAAI,CAAC;IAElI,KAAK,QAAQ;MACX,IAAIC,MAAM,GAAAP,kBAAA,CAAOJ,KAAK,CAAC;MACvBW,MAAM,CAACC,MAAM,CAACX,MAAM,CAACY,KAAK,EAAE,CAAC,CAAC;MAC9B,OAAOF,MAAM;IAGf,KAAK,QAAQ;MACX,IAAIG,GAAG,GAAAV,kBAAA,CAAOJ,KAAK,CAAC;MACpBc,GAAG,CAACC,IAAI,CAAC,UAACC,IAAI,EAAEH,KAAK,EAAK;QACxB,IAAIG,IAAI,CAACX,EAAE,KAAKJ,MAAM,CAACI,EAAE,EAAE;UACzBY,OAAO,CAACC,GAAG,CAACF,IAAI,CAACT,GAAG,EAAEY,QAAQ,CAAClB,MAAM,CAACM,GAAG,CAAC,EAAEN,MAAM,CAACQ,KAAK,GAAGO,IAAI,CAACP,KAAK,CAAC;UACtEK,GAAG,CAACD,KAAK,CAAC,GAAAO,aAAA,KAAOJ,IAAI;YAAET,GAAG,EAAGY,QAAQ,CAAClB,MAAM,CAACM,GAAG,CAAC,GAAGY,QAAQ,CAACH,IAAI,CAACT,GAAG,CAAC;YAAGE,KAAK,EAAER,MAAM,CAACQ,KAAK,GAAGO,IAAI,CAACP;UAAK,EAAE;QAC7G;QACA,OAAOK,GAAG;MACZ,CAAC,CAAC;MACF,OAAOA,GAAG;IAGZ;MAASG,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;EAAC;AAK7C,CAAC;AAGD,OAAO,IAAMG,YAAY,GAAG,SAAfA,YAAYA,CAAAC,IAAA,EAAqB;EAAA,IAAfC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAAA,IAAAC,WAAA,GACX7B,UAAU,CAACI,OAAO,EAAE,EAAE,CAAC;IAAA0B,YAAA,GAAAC,cAAA,CAAAF,WAAA;IAA1CxB,KAAK,GAAAyB,YAAA;IAAEE,QAAQ,GAAAF,YAAA;EACtB,oBACEhC,KAAA,CAAAmC,aAAA,CAAC9B,mBAAmB,CAAC+B,QAAQ;IAACC,KAAK,EAAEH,QAAS;IAAAI,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC5C5C,KAAA,CAAAmC,aAAA,CAAC/B,gBAAgB,CAACgC,QAAQ;IAACC,KAAK,EAAE9B,KAAM;IAAA+B,MAAA,EAAAC,KAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACrCd,QAAQ,CACiB,CACC;AAGnC,CAAC;AACD,OAAO,IAAMe,OAAO,GAAG,SAAVA,OAAOA,CAAA;EAAA,OAAS1C,UAAU,CAACC,gBAAgB,CAAC;AAAA;AACzD,OAAO,IAAM0C,eAAe,GAAG,SAAlBA,eAAeA,CAAA;EAAA,OAAS3C,UAAU,CAACE,mBAAmB,CAAC;AAAA"},"metadata":{},"sourceType":"module"}