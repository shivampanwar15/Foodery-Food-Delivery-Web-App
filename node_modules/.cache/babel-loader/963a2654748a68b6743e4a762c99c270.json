{"ast":null,"code":"import _regeneratorRuntime from \"/Users/shivampanwar/Desktop/GoFood/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/shivampanwar/Desktop/GoFood/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/shivampanwar/Desktop/GoFood/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/shivampanwar/Desktop/GoFood/my-app/src/components/Card.jsx\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useDispatchCart, useCart } from './ContextReducer';\nexport default function Card(props) {\n  var _this = this;\n  var dispatch = useDispatchCart();\n  var FoodItem = props.foodItem || {};\n  var options = props.options || {};\n  var opt = Object.keys(options);\n  ;\n  var priceRef = useRef();\n  var dt = useCart();\n  var _useState = useState(1),\n    _useState2 = _slicedToArray(_useState, 2),\n    qty = _useState2[0],\n    setQty = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    size = _useState4[0],\n    setSize = _useState4[1];\n  var handleAddToCart = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var food, _iterator, _step, item;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            food = [];\n            _iterator = _createForOfIteratorHelper(data);\n            _context.prev = 2;\n            _iterator.s();\n          case 4:\n            if ((_step = _iterator.n()).done) {\n              _context.next = 11;\n              break;\n            }\n            item = _step.value;\n            if (!(item.id === props.foodItem._id)) {\n              _context.next = 9;\n              break;\n            }\n            food = item;\n            return _context.abrupt(\"break\", 11);\n          case 9:\n            _context.next = 4;\n            break;\n          case 11:\n            _context.next = 16;\n            break;\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](2);\n            _iterator.e(_context.t0);\n          case 16:\n            _context.prev = 16;\n            _iterator.f();\n            return _context.finish(16);\n          case 19:\n            _context.next = 21;\n            return dispatch({\n              type: \"ADD\",\n              id: FoodItem._id,\n              name: FoodItem.name,\n              price: finalPrice,\n              qty: qty,\n              size: size\n            });\n          case 21:\n            console.log(dt);\n          case 22:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[2, 13, 16, 19]]);\n    }));\n    return function handleAddToCart() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var finalPrice = qty * parseInt(options[size]);\n  useEffect(function () {\n    setSize(priceRef.current.value);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card mt-3\",\n    style: {\n      \"width\": \"18rem\",\n      \"maxHeight\": \"500px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: FoodItem.img,\n    className: \"card-img-top\",\n    alt: \"...\",\n    style: {\n      height: \"180px\",\n      objectFit: \"fill\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, \" \", FoodItem.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    className: \"m-2 h-100  bg-success rounded\",\n    onChange: function onChange(e) {\n      return setQty(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, Array.from(Array(6), function (e, i) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: i + 1,\n      value: i + 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 37\n      }\n    }, \"  \", i + 1, \" \");\n  })), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"m-2 h-100  bg-success rounded\",\n    ref: priceRef,\n    onChange: function onChange(e) {\n      return setSize(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, opt.map(function (data) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: data,\n      value: data,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 40\n      }\n    }, data);\n  })), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-inline h-100 fs-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \" \\u20B9 \", finalPrice, \"/- \")), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success justify-center m5-2\",\n    onClick: handleAddToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \" Add to Cart \"))));\n}","map":{"version":3,"names":["React","useState","useRef","useEffect","useDispatchCart","useCart","Card","props","_this","dispatch","FoodItem","foodItem","options","opt","Object","keys","priceRef","dt","_useState","_useState2","_slicedToArray","qty","setQty","_useState3","_useState4","size","setSize","handleAddToCart","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","food","_iterator","_step","item","wrap","_callee$","_context","prev","next","_createForOfIteratorHelper","data","s","n","done","value","id","_id","abrupt","t0","e","f","finish","type","name","price","finalPrice","console","log","stop","apply","arguments","parseInt","current","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","style","src","img","alt","height","objectFit","onChange","target","Array","from","i","key","ref","map","onClick"],"sources":["/Users/shivampanwar/Desktop/GoFood/my-app/src/components/Card.jsx"],"sourcesContent":["import React, { useState, useRef,useEffect } from 'react'\nimport { useDispatchCart, useCart } from './ContextReducer'\n\nexport default function Card(props) {\n    let dispatch = useDispatchCart();\n    let FoodItem = props.foodItem || {};\n    let options = props.options || {};\n    let opt = Object.keys(options);;\n    const priceRef = useRef () ;\n    let dt = useCart();\n\n    const [qty, setQty] = useState(1);\n    const [size, setSize] = useState(\"\");\n\n\n    const handleAddToCart = async () => {\n\n        let food = []\n            for(const item of data) {\n            if (item. id === props. foodItem. _id) {\n                    food=item;\n                    break;\n            }\n        }\n\n\n\n        await dispatch({ type: \"ADD\", id: FoodItem._id, name: FoodItem.name, price: finalPrice, qty: qty, size: size })\n        console.log(dt);\n    }\n    let finalPrice = qty * parseInt(options[size]);\n    useEffect(() =>{\n    setSize(priceRef.current.value)\n    }, [])\n\n    return (\n        <div>\n            <div className=\"card mt-3\" style={{ \"width\": \"18rem\", \"maxHeight\": \"500px\" }}>\n                <img src={FoodItem.img} className=\"card-img-top\" alt=\"...\" style={{ height: \"180px\", objectFit: \"fill\" }} />\n                <div className=\"card-body\">\n                    <h5 className=\"card-title\"> {FoodItem.name}</h5>\n                    <p className=\"card-text\"></p>\n                    <div className='container w-100'>\n                        <select className='m-2 h-100  bg-success rounded' onChange={(e) => setQty(e.target.value)}>\n                            {Array.from(Array(6), (e, i) => {\n                                return (\n                                    <option key={i + 1} value={i + 1}>  {i + 1} </option>\n                                )\n                            })}\n                        </select>\n                        <select className='m-2 h-100  bg-success rounded' ref={priceRef} onChange={(e) => setSize(e.target.value)}>\n                            {opt.map((data) => {\n                                return <option key={data} value={data}>{data}</option>\n                            })}\n\n\n                        </select>\n                        <hr></hr>\n                        <div className='d-inline h-100 fs-5'> ₹ {finalPrice}/- </div>\n                    </div>\n                    <hr></hr>\n                    <button className='btn btn-success justify-center m5-2' onClick={handleAddToCart}> Add to Cart </button>\n                </div>\n            </div>\n        </div>\n\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}